(function(){var a;a=jQuery;a.fn.extend({rubyann:function(){var f;f=/\{.*\}/g;return this.each(function(){var c,e;c=a(this).text();e=f.exec(c);if(e===null)return a(this);a.each(e,function(d,g){var b;b=g.split(",");if(b.length!==2)return a(this);d=b[0].replace("{","");b=b[1].replace("}","");d="<ruby><rb>{rbase}</rb><rp>(</rp><rt>{rtext}</rt><rp>)</rp></ruby>".replace("{rbase}",d).replace("{rtext}",b);return c=c.replace(g,d)});return a(this).html(c)})}})})();
